(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"fT+Q":function(n,t,e){"use strict";e.r(t);var i=e("CcnG"),l=function(){return function(){}}(),u=e("pMnS"),r=e("aJJ8"),o=e("WS98"),c=e("d5rD"),s=e("ZYCi"),a=e("Ip0R"),h=function(){function n(){}return n.prototype.transform=function(n,t){return t?n.sort(function(n,e){return e[t].toString().localeCompare(n[t].toString())}):n},n}(),p=e("+UQt"),b=e("6blF"),f=e("isby"),d=e("2Bdj"),v=e("67Y/"),k=e("mrSG"),y=e("FFOo"),g=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.scheduler=t,i.work=e,i.pending=!1,i}return k.c(t,n),t.prototype.schedule=function(n,t){if(void 0===t&&(t=0),this.closed)return this;this.state=n;var e=this.id,i=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(i,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(n,t,e){return void 0===e&&(e=0),setInterval(n.flush.bind(n,this),e)},t.prototype.recycleAsyncId=function(n,t,e){if(void 0===e&&(e=0),null!==e&&this.delay===e&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(n,t);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,t){var e=!1,i=void 0;try{this.work(n)}catch(l){e=!0,i=!!l&&l||new Error(l)}if(e)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var n=this.id,t=this.scheduler,e=t.actions,i=e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&e.splice(i,1),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null},t}(function(n){function t(t,e){return n.call(this)||this}return k.c(t,n),t.prototype.schedule=function(n,t){return void 0===t&&(t=0),this},t}(e("pugT").a)),m=function(){function n(t,e){void 0===e&&(e=n.now),this.SchedulerAction=t,this.now=e}return n.prototype.schedule=function(n,t,e){return void 0===t&&(t=0),new this.SchedulerAction(this,n).schedule(e,t)},n.now=function(){return Date.now()},n}(),w=new(function(n){function t(e,i){void 0===i&&(i=m.now);var l=n.call(this,e,function(){return t.delegate&&t.delegate!==l?t.delegate.now():i()})||this;return l.actions=[],l.active=!1,l.scheduled=void 0,l}return k.c(t,n),t.prototype.schedule=function(e,i,l){return void 0===i&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(e,i,l):n.prototype.schedule.call(this,e,i,l)},t.prototype.flush=function(n){var t=this.actions;if(this.active)t.push(n);else{var e;this.active=!0;do{if(e=n.execute(n.state,n.delay))break}while(n=t.shift());if(this.active=!1,e){for(;n=t.shift();)n.unsubscribe();throw e}}},t}(m))(g),x=function(){function n(n,t){this.dueTime=n,this.scheduler=t}return n.prototype.call=function(n,t){return t.subscribe(new L(n,this.dueTime,this.scheduler))},n}(),L=function(n){function t(t,e,i){var l=n.call(this,t)||this;return l.dueTime=e,l.scheduler=i,l.debouncedSubscription=null,l.lastValue=null,l.hasValue=!1,l}return k.c(t,n),t.prototype._next=function(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(S,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var n=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}},t.prototype.clearDebounce=function(){var n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)},t}(y.a);function S(n){n.debouncedNext()}var O=function(){function n(n,t){this.compare=n,this.keySelector=t}return n.prototype.call=function(n,t){return t.subscribe(new C(n,this.compare,this.keySelector))},n}(),C=function(n){function t(t,e,i){var l=n.call(this,t)||this;return l.keySelector=i,l.hasKey=!1,"function"==typeof e&&(l.compare=e),l}return k.c(t,n),t.prototype.compare=function(n,t){return n===t},t.prototype._next=function(n){var t;try{var e=this.keySelector;t=e?e(n):n}catch(l){return this.destination.error(l)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(l){return this.destination.error(l)}else this.hasKey=!0;i||(this.key=t,this.destination.next(n))},t}(y.a),A=function(){function n(n,t){this.booksService=n,this.route=t,this.groupBy="year",this.query=""}return n.prototype.ngOnInit=function(){var n,t=this;this.query=this.booksService.getQuery,this.fetchSubscription=this.booksService.onFetchBooks.subscribe(function(){t.books=t.makeGroups()}),this.paramSubscription=this.route.params.subscribe(function(n){t.groupBy=n.groupBy,t.booksService.setSelectedGrouping=t.groupBy,t.books=t.makeGroups()}),this.inputSubscription=function n(t,e,i,l){return Object(d.a)(i)&&(l=i,i=void 0),l?n(t,e,i).pipe(Object(v.a)(function(n){return Object(f.a)(n)?l.apply(void 0,n):l(n)})):new b.a(function(n){!function n(t,e,i,l,u){var r;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(t)){var o=t;t.addEventListener(e,i,u),r=function(){return o.removeEventListener(e,i,u)}}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(t)){var c=t;t.on(e,i),r=function(){return c.off(e,i)}}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(t)){var s=t;t.addListener(e,i),r=function(){return s.removeListener(e,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var a=0,h=t.length;a<h;a++)n(t[a],e,i,l,u)}l.add(r)}(t,e,function(t){n.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},n,i)})}(this.searchInput.nativeElement,"keyup").pipe((void 0===n&&(n=w),function(t){return t.lift(new x(600,n))}),function(n){return n.lift(new O(void 0,void 0))}).subscribe(function(){t.booksService.fetchBooks().subscribe()})},n.prototype.onInput=function(n){this.booksService.setQuery=n.target.value},n.prototype.makeGroups=function(){var n=this.booksService.getBooks,t=this.groupBy;if("random"!==t){var e={};return n.reduce(function(n,i){var l=i[t].toString(),u=e[l];if(u)u.books.push(i);else{var r=new p.a(l,[i]);n.push(r),e[l]=r}return n},[])}return[new p.a(t,this.shuffle(n))]},n.prototype.shuffle=function(n){for(var t,e,i=n.length;0!==i;)e=Math.floor(Math.random()*i),t=n[i-=1],n[i]=n[e],n[e]=t;return n},n.prototype.ngOnDestroy=function(){this.fetchSubscription.unsubscribe(),this.paramSubscription.unsubscribe(),this.inputSubscription.unsubscribe()},n}(),_=i.mb({encapsulation:0,styles:[[".search[_ngcontent-%COMP%]{position:relative}.search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:14px;left:14px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:20px;color:#5a5a5a;padding:18px 0 13px 55px;background-color:transparent;border-radius:8px;border:3px solid #777;width:100%}.grouping[_ngcontent-%COMP%]{margin-top:28px}.grouping[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;color:#777;font-size:18px;margin-right:8px;padding:10px 15px 10px 18px;font-weight:700;cursor:pointer}.grouping[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#f15454;color:#fff;box-shadow:0 2px 3px rgba(34,34,34,.6);border-radius:19px}.list[_ngcontent-%COMP%]{margin-top:34px}.list[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{padding-bottom:47px;border-bottom:2px solid #535353}.list[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]:not(:first-child){margin-top:72px}.list[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#aaa;font-size:32px}"]],data:{}});function M(n){return i.Db(0,[(n()(),i.ob(0,0,null,null,5,"div",[["class","group"]],null,null,null,null,null)),(n()(),i.ob(1,0,null,null,2,"h2",[["class","group-name"]],null,null,null,null,null)),(n()(),i.Bb(2,null,["",""])),i.yb(3,1),(n()(),i.ob(4,0,null,null,1,"app-book-list",[],null,null,null,r.b,r.a)),i.nb(5,114688,null,0,o.a,[c.a,s.l],{list:[0,"list"],autoSizing:[1,"autoSizing"]},null)],function(n,t){n(t,5,0,t.context.$implicit.books,!0)},function(n,t){var e=i.Cb(t,2,0,n(t,3,0,i.wb(t.parent.parent,1),t.context.$implicit.name));n(t,2,0,e)})}function D(n){return i.Db(0,[(n()(),i.ob(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),i.db(16777216,null,null,2,null,M)),i.nb(2,278528,null,0,a.h,[i.O,i.L,i.s],{ngForOf:[0,"ngForOf"]},null),i.yb(3,2)],function(n,t){var e=t.component,l=i.Cb(t,2,0,n(t,3,0,i.wb(t.parent,0),e.books,"name"));n(t,2,0,l)},null)}function I(n){return i.Db(0,[i.xb(0,h,[]),i.xb(0,a.n,[]),i.zb(402653184,1,{searchInput:0}),(n()(),i.ob(3,0,null,null,3,"section",[["class","search"]],null,null,null,null,null)),(n()(),i.ob(4,0,null,null,1,"i",[],null,null,null,null,null)),(n()(),i.ob(5,0,null,null,0,"img",[["src","assets/images/Search Icon.svg"]],null,null,null,null,null)),(n()(),i.ob(6,0,[[1,0],["searchInput",1]],null,0,"input",[["placeholder","Search by book name"],["type","text"]],[[8,"value",0]],[[null,"input"]],function(n,t,e){var i=!0;return"input"===t&&(i=!1!==n.component.onInput(e)&&i),i},null,null)),(n()(),i.ob(7,0,null,null,31,"section",[["class","grouping"]],null,null,null,null,null)),(n()(),i.ob(8,0,null,null,30,"ul",[],null,null,null,null,null)),(n()(),i.ob(9,0,null,null,5,"li",[["routerLink","/year"],["routerLinkActive","active"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==i.wb(n,10).onClick()&&l),l},null,null)),i.nb(10,16384,[[2,4]],0,s.m,[s.l,s.a,[8,null],i.D,i.k],{routerLink:[0,"routerLink"]},null),i.nb(11,1720320,null,2,s.n,[s.l,i.k,i.D,[2,s.m],[2,s.o]],{routerLinkActive:[0,"routerLinkActive"]},null),i.zb(603979776,2,{links:1}),i.zb(603979776,3,{linksWithHrefs:1}),(n()(),i.Bb(-1,null,["Year"])),(n()(),i.ob(15,0,null,null,5,"li",[["routerLink","/writer"],["routerLinkActive","active"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==i.wb(n,16).onClick()&&l),l},null,null)),i.nb(16,16384,[[4,4]],0,s.m,[s.l,s.a,[8,null],i.D,i.k],{routerLink:[0,"routerLink"]},null),i.nb(17,1720320,null,2,s.n,[s.l,i.k,i.D,[2,s.m],[2,s.o]],{routerLinkActive:[0,"routerLinkActive"]},null),i.zb(603979776,4,{links:1}),i.zb(603979776,5,{linksWithHrefs:1}),(n()(),i.Bb(-1,null,["Writer"])),(n()(),i.ob(21,0,null,null,5,"li",[["routerLink","/artist"],["routerLinkActive","active"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==i.wb(n,22).onClick()&&l),l},null,null)),i.nb(22,16384,[[6,4]],0,s.m,[s.l,s.a,[8,null],i.D,i.k],{routerLink:[0,"routerLink"]},null),i.nb(23,1720320,null,2,s.n,[s.l,i.k,i.D,[2,s.m],[2,s.o]],{routerLinkActive:[0,"routerLinkActive"]},null),i.zb(603979776,6,{links:1}),i.zb(603979776,7,{linksWithHrefs:1}),(n()(),i.Bb(-1,null,["Artist"])),(n()(),i.ob(27,0,null,null,5,"li",[["routerLink","/owner"],["routerLinkActive","active"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==i.wb(n,28).onClick()&&l),l},null,null)),i.nb(28,16384,[[8,4]],0,s.m,[s.l,s.a,[8,null],i.D,i.k],{routerLink:[0,"routerLink"]},null),i.nb(29,1720320,null,2,s.n,[s.l,i.k,i.D,[2,s.m],[2,s.o]],{routerLinkActive:[0,"routerLinkActive"]},null),i.zb(603979776,8,{links:1}),i.zb(603979776,9,{linksWithHrefs:1}),(n()(),i.Bb(-1,null,["Owner"])),(n()(),i.ob(33,0,null,null,5,"li",[["routerLink","/random"],["routerLinkActive","active"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==i.wb(n,34).onClick()&&l),l},null,null)),i.nb(34,16384,[[10,4]],0,s.m,[s.l,s.a,[8,null],i.D,i.k],{routerLink:[0,"routerLink"]},null),i.nb(35,1720320,null,2,s.n,[s.l,i.k,i.D,[2,s.m],[2,s.o]],{routerLinkActive:[0,"routerLinkActive"]},null),i.zb(603979776,10,{links:1}),i.zb(603979776,11,{linksWithHrefs:1}),(n()(),i.Bb(-1,null,["Random"])),(n()(),i.ob(39,0,null,null,2,"section",[["class","list"]],null,null,null,null,null)),(n()(),i.db(16777216,null,null,1,null,D)),i.nb(41,16384,null,0,a.i,[i.O,i.L],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,10,0,"/year"),n(t,11,0,"active"),n(t,16,0,"/writer"),n(t,17,0,"active"),n(t,22,0,"/artist"),n(t,23,0,"active"),n(t,28,0,"/owner"),n(t,29,0,"active"),n(t,34,0,"/random"),n(t,35,0,"active"),n(t,41,0,e.books)},function(n,t){n(t,6,0,t.component.query)})}function B(n){return i.Db(0,[(n()(),i.ob(0,0,null,null,1,"app-search",[],null,null,null,I,_)),i.nb(1,245760,null,0,A,[c.a,s.a],null,null)],function(n,t){n(t,1,0)},null)}var P=i.kb("app-search",A,B,{},{},[]),z=e("0yWZ"),j=e("PCNd"),E=function(){function n(n){this.booksService=n}return n.prototype.resolve=function(n,t){return this.booksService.getBooks||this.booksService.fetchBooks()},n.ngInjectableDef=i.Fb({factory:function(){return new n(i.Jb(c.a))},token:n,providedIn:"root"}),n}();e.d(t,"SearchModuleNgFactory",function(){return F});var F=i.lb(l,[],function(n){return i.ub([i.vb(512,i.j,i.Y,[[8,[u.a,P]],[3,i.j],i.x]),i.vb(4608,a.k,a.j,[i.u,[2,a.r]]),i.vb(1073742336,a.b,a.b,[]),i.vb(1073742336,z.a,z.a,[]),i.vb(1073742336,j.a,j.a,[]),i.vb(1073742336,s.p,s.p,[[2,s.u],[2,s.l]]),i.vb(1073742336,l,l,[]),i.vb(1024,s.j,function(){return[[{path:"",redirectTo:"/year",pathMatch:"full"},{path:":groupBy",component:A,resolve:[E]}]]},[])])})}}]);